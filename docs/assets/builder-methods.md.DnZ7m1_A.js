import{_ as s,c as a,o as i,ae as t}from"./chunks/framework.CGENHRid.js";const k=JSON.parse('{"title":"Query Builder Methods","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"builder-methods.md","filePath":"builder-methods.md","lastUpdated":1765197486000}'),l={name:"builder-methods.md"};function n(h,e,r,d,p,o){return i(),a("div",null,[...e[0]||(e[0]=[t(`<h1 id="query-builder-methods" tabindex="-1">Query Builder Methods <a class="header-anchor" href="#query-builder-methods" aria-label="Permalink to &quot;Query Builder Methods&quot;">​</a></h1><p>This section describes all the query builder methods in detail.</p><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>The main query builder methods all work in a similar way with respect to the arguments they accept. The short form is to pass a string which may have some additional processing applied to it (typically splitting a whitespace delimited string into multiple tokens). Where there are two, three or four possible arguments, an array can be passed. Or an object can be passed with explicit properties for the different parameters.</p><p>All the methods can generate raw SQL. This can be specified by passing an object with a single <code>sql</code> property:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ sql: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;COUNT(id) AS n&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p>Or using the <code>sql</code> function to create a tagged template literal:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { sql } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@abw/badger-database&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`COUNT(id) AS n\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>All of the methods can be called multiple times, or passed multiple arguments. They both have the same effect. Generally speaking, you can call the methods in any order and the query builder will generate the SQL query with them in the correct order.</p><p>For the sake of brevity these examples assume that you&#39;ve already connected to a database and stored the connection in the <code>db</code> variable.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> connect </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@abw/badger-database&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ database: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sqlite:memory&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...examples would go here</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">disconnect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>The examples show the SQL generated by the fragment. In many cases they&#39;re not complete queries and we&#39;ve omitted the final <code>.sql()</code> method call which is called internally to generate the SQL.</p><p>In these example we&#39;re assuming that the database is Sqlite which quotes table and columns names using double quotes, e.g. <code>&quot;users&quot;.&quot;id&quot;</code>. For Mysql the names will be quoted using backticks. Examples that show placeholders also assume Sqlite (and Mysql) which uses question marks, e.g. <code>?</code>. For Postgress the placeholders are of the form <code>$1</code>, <code>$2</code>, <code>$3</code>, etc.</p><h2 id="query-types" tabindex="-1">Query Types <a class="header-anchor" href="#query-types" aria-label="Permalink to &quot;Query Types&quot;">​</a></h2><p>Read more about the methods for specific query types:</p><ul><li><a href="./select-query.html">select</a></li><li><a href="./insert-query.html">insert</a></li><li><a href="./update-query.html">udpate</a></li><li><a href="./delete-query.html">delete</a></li></ul><p>Also see the documentation describing methods for executing queries:</p><ul><li><a href="./query-execute.html">Query Execution Methods</a></li></ul>`,18)])])}const u=s(l,[["render",n]]);export{k as __pageData,u as default};
